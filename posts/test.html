<h1>Pandas: tips and tricks</h1>
<p>On a day to day basis, I use the python library pandas in order to preform many different data mining tasks.  Pandas is a wonderful library that a wide range of functionality, from operating similarly to a relational database to visualizing data driven results, the Pandas library allows for efficient data manipulation at scale in python.</p>
<p>The fundamental Object in the pandas library is <code>DataFrame</code>. As the name suggests, this class holds are data in a framework (or table) and has many methods for interacting with the dataset. A DataFrame, simply put, is a list columns with rows containing data entries for each column. For example say we are collecting temperature and pressure measurements in the Pacific Ocean. We want to know the temperature, pressure, location (longitude, latitude, and altitude), and the time the measurement was taken. So we have six column headers; temperature, pressure, longitude, latitude, altitude, and time. Suppose we survey 5 locations in the Pacific, then there is 5 rows in table of collected data. That is,</p>
<p><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>temperature</th>
      <th>pressure</th>
      <th>longitude</th>
      <th>latitude</th>
      <th>altitude</th>
      <th>time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>55.5</td>
      <td>1021</td>
      <td>-140</td>
      <td>46</td>
      <td>-100</td>
      <td>07:00</td>
    </tr>
    <tr>
      <td>56.5</td>
      <td>1024</td>
      <td>-180</td>
      <td>46</td>
      <td>-101</td>
      <td>10:00</td>
    </tr>
    <tr>
      <td>55.8</td>
      <td>1022</td>
      <td>-140</td>
      <td>56</td>
      <td>-97</td>
      <td>12:00</td>
    </tr>
    <tr>
      <td>54.5</td>
      <td>1020</td>
      <td>-180</td>
      <td>36</td>
      <td>-102</td>
      <td>18:00</td>
    </tr>
    <tr>
      <td>57.5</td>
      <td>1025</td>
      <td>-140</td>
      <td>36</td>
      <td>-99</td>
      <td>20:00</td>
    </tr>
  </tbody>
</table></p>
<p><em>The units for temperature are Fahrenheit, kilo-Pascals for pressure, and meters below sea level for altitude. Note the data in the above table is made up whole cloth. We leave is as an exercise for the interested physics student to identify the inconsistencies. For instance, how fast would the boat have to travel in order to arrive at each location and carry out the measurements at the stated times? Or was the path taken by the surveyor's the most time efficient for the locations they visited?</em></p>
<h2>Installing Pandas</h2>
<p>To install the pandas library, use the pip package manager and type the following into your terminal</p>
<p><code>pip install pandas</code></p>
<h2>Import Pandas</h2>
<p>Like many popular python libraries it is common practice to import pandas with the alias pd.</p>
<p><code>import pandas as pd</code></p>
<h2>Reading Data into a Dataframe</h2>
<p>The easiest way to read data into a DataFrame is to use <code>pd.read_csv()</code> which as the name suggests reads in data from a comma separated value file (like an excel table). Here is a short list of some methods to read data into a DataFrame, and below we give examples with our temperature data on how to use them.</p>
<ul>
<li><code>pd.read_csv()</code> See <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html">the docs page for more details</a></li>
<li><code>pd.read_pickle()</code> See <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_pickle.html">the docs page for more details</a></li>
<li><code>pd.read_html()</code> See <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_html.html">the docs page for more details</a></li>
</ul>
<p>There are many more other file types, so take a look at <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/">the docs</a> for more on these methods. Below we give examples for importing data using the three methods above.</p>
<h3>Read from csv</h3>
<p>A csv (or comma separated value) file that contains our temperature example can be <a href="https://joehowie.ca/python_example_scripts/temperature_data.csv">downloaded here.</a> With the data downloaded, you can now load it into a pandas DataFrame running the following python code.</p>
<pre><code class="language-python">import pandas as pd

column_names = [&quot;temperature&quot;, &quot;pressure&quot;, &quot;longitude&quot;, &quot;latitude&quot;, &quot;altitude&quot;, &quot;time&quot;]
df = pd.read_csv(&quot;temperature_data.csv&quot;, names=column_names)
</code></pre>
<pre><code class="language-yaml">temperature  pressure  longitude  latitude  altitude   time
0         55.5      1021       -140        46      -100  07:00
1         56.5      1024       -180        46      -101  10:00
2         55.8      1022       -140        56       -97  12:00
3         54.5      1020       -180        36      -102  18:00
4         57.5      1025       -140        36       -99  20:00
</code></pre>
<h2>Building a DataFrame from Scratch</h2>
<p>If you have your data already in a python script; because it is generated in your code; or stored as a series of lists; or in a python dictionary; then you can add it to a DataFrame directly by calling the object.</p>
<p>Using our example from above, suppose that we have six python list each with the measurements for the six columns. That is, the index of each list correspond to the row indices of the DataFrame we wish to build.</p>
<pre><code class="language-python">import pandas as pd

## data as a python list
temp =  [55.5, 56.5, 55.8, 54.5, 57.5]
pres = [1021, 1024, 1022, 1020, 1025]
long = [-140, -180, -140, -180, -140]
lati = [46, 46, 56, 36, 36]
alti = [-100, -101, -97, -102, -99]
time = [&quot;07:00&quot;, &quot;10:00&quot;, &quot;12:00&quot;, &quot;18:00&quot;, &quot;20:00&quot;]

## make a dictionary with keys the column names
data = {&quot;temperature&quot;: temp,
        &quot;pressure&quot;: pres,
        &quot;longitude&quot;: long,
        &quot;latitude&quot;: lati,
        &quot;altitude&quot;: alti,
        &quot;time&quot;: time}

## create DataFrame
df = pd.DataFrame(data)

## print table to terminal
print(df)
</code></pre>
<h2>Adding data to a Dataframe</h2>
<p>Once you have a DataFrame like in the above code block, you can add rows using <code>pd.concat</code>.</p>
